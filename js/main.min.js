"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _this=void 0;function _createForOfIteratorHelper(e,t){var n,r,o,a,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return r=!(n=!0),{s:function(){i=i.call(e)},n:function(){var e=i.next();return n=e.done,e},e:function(e){r=!0,o=e},f:function(){try{n||null==i.return||i.return()}finally{if(r)throw o}}};if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _regeneratorRuntime(){_regeneratorRuntime=function(){return i};var s,i={},e=Object.prototype,l=e.hasOwnProperty,d=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",o=t.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(s){a=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o,a,i,c,t=t&&t.prototype instanceof w?t:w,t=Object.create(t.prototype),r=new A(r||[]);return d(t,"_invoke",{value:(o=e,a=n,i=r,c=h,function(e,t){if(c===p)throw new Error("Generator is already running");if(c===v){if("throw"===e)throw t;return{value:s,done:!0}}for(i.method=e,i.arg=t;;){var n=i.delegate;if(n){n=function e(t,n){var r=n.method,o=t.iterator[r];if(o===s)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=s,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;r=u(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,m;o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=s),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}(n,i);if(n){if(n===m)continue;return n}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(c===h)throw c=v,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);c=p;n=u(o,a,i);if("normal"===n.type){if(c=i.done?v:f,n.arg===m)continue;return{value:n.arg,done:i.done}}"throw"===n.type&&(c=v,i.method="throw",i.arg=n.arg)}})}),t}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}i.wrap=c;var h="suspendedStart",f="suspendedYield",p="executing",v="completed",m={};function w(){}function y(){}function g(){}var t={},L=(a(t,r,function(){return this}),Object.getPrototypeOf),L=L&&L(L(T([]))),_=(L&&L!==e&&l.call(L,r)&&(t=L),g.prototype=w.prototype=Object.create(t));function b(e){["next","throw","return"].forEach(function(t){a(e,t,function(e){return this._invoke(t,e)})})}function E(i,c){var t;d(this,"_invoke",{value:function(n,r){function e(){return new c(function(e,t){!function t(e,n,r,o){var a,e=u(i[e],i,n);if("throw"!==e.type)return(n=(a=e.arg).value)&&"object"==_typeof(n)&&l.call(n,"__await")?c.resolve(n.__await).then(function(e){t("next",e,r,o)},function(e){t("throw",e,r,o)}):c.resolve(n).then(function(e){a.value=e,r(a)},function(e){return t("throw",e,r,o)});o(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(t){if(t||""===t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=s,e.done=!0,e}).next=e}throw new TypeError(_typeof(t)+" is not iterable")}return d(_,"constructor",{value:y.prototype=g,configurable:!0}),d(g,"constructor",{value:y,configurable:!0}),y.displayName=a(g,o,"GeneratorFunction"),i.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},i.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,a(e,o,"GeneratorFunction")),e.prototype=Object.create(_),e},i.awrap=function(e){return{__await:e}},b(E.prototype),a(E.prototype,n,function(){return this}),i.AsyncIterator=E,i.async=function(e,t,n,r,o){void 0===o&&(o=Promise);var a=new E(c(e,t,n,r),o);return i.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},b(_),a(_,o,"Generator"),a(_,r,function(){return this}),a(_,"toString",function(){return"[object Generator]"}),i.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},i.values=T,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=s)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return a.type="throw",a.arg=n,r.next=e,t&&(r.method="next",r.arg=s),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],a=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var i=l.call(o,"catchLoc"),c=l.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var a=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(n=o.completion).type&&(r=n.arg,k(o)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=s),m}},i}function asyncGeneratorStep(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function _asyncToGenerator(c){return function(){var e=this,i=arguments;return new Promise(function(t,n){var r=c.apply(e,i);function o(e){asyncGeneratorStep(r,t,n,o,a,"next",e)}function a(e){asyncGeneratorStep(r,t,n,o,a,"throw",e)}o(void 0)})}}function smoothScrollTo(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500,o=window.pageYOffset,a=e-o,i=null;window.requestAnimationFrame(function e(t){var t=t-(i=i||t),n=(n=t,n/=r,a*(--n*n*n+1)+o);window.scrollTo(0,n),t<r&&window.requestAnimationFrame(e)})}function asideToggle(){var e=document.querySelector("button._js-aside-toggle"),t=document.querySelectorAll(".nav a span"),n=document.querySelector(".aside"),r=document.querySelector(".aside-top-home");e.addEventListener("click",function(){t.forEach(function(e){e.classList.toggle("hidden")}),n.classList.toggle("small"),r.classList.toggle("hidden")})}function loadOrders(e){return _loadOrders.apply(this,arguments)}function _loadOrders(){return(_loadOrders=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){var n;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("Ошибка загрузки данных");case 6:return e.next=8,n.json();case 8:renderOrdersTable(e.sent),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Ошибка:",e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])}))).apply(this,arguments)}function renderOrdersTable(e){var t=e.isEdit,n=e.isDeleted,e=e.orders,r=document.querySelector("._js-orders-content");0===e.length?r.innerHTML="<p>Не найдено заказов</p>":r.innerHTML='\n            <table class="orders_content-table">\n                <thead>\n                    <tr>\n                        <th><span><span>Номер заказа</span></span></th>\n                        <th><span><span>Дата создания</span></span></th>\n                        <th><span><span>Контрагент</span></span></th>\n                        <th><span><span>Всего товаров</span></span></th>\n                        <th><span><span>В резерве</span></span></th>\n                        <th><span><span>Номер ТТН</span></span></th>\n                        <th></th>\n                    </tr>\n                </thead>\n                <tbody>\n                    '.concat(e.map(function(e){return'\n                        <tr>\n                            <td>\n                                <div class="orders_content-table-wrap">\n                                    <a href="#">\n                                        <div class="orders orders_content-table-item">\n                                            '.concat(e.article,'\n                                        </div>\n                                    </a>\n                                </div>\n                            </td>\n                            <td>\n                                <div class="orders_content-table-wrap">\n                                    <a href="#">\n                                        <div class="orders orders_content-table-item">\n                                            ').concat(e.date,'\n                                        </div>\n                                    </a>\n                                </div>\n                            </td>\n                            <td>\n                                <div class="orders_content-table-wrap">\n                                    <a href="#">\n                                        <div class="orders orders_content-table-item">\n                                            ').concat(e.counterparty,'\n                                        </div>\n                                    </a>\n                                </div>\n                            </td>\n                            <td>\n                                <div class="orders_content-table-wrap">\n                                    <a href="#">\n                                        <div class="orders orders_content-table-item">\n                                            ').concat(e.total,'\n                                        </div>\n                                    </a>\n                                </div>\n                            </td>\n                            <td>\n                                <div class="orders_content-table-wrap">\n                                    <a href="#">\n                                        <div class="orders orders_content-table-item">\n                                            ').concat(e.reserve,'\n                                        </div>\n                                    </a>\n                                </div>\n                            </td>\n                            <td>\n                                <div class="orders_content-table-wrap">\n                                    <a href="#">\n                                        <div class="orders orders_content-table-item">\n                                            ').concat(e.ttx,'\n                                        </div>\n                                    </a>\n                                </div>\n                            </td>\n                            <td>\n                                <div class="orders_content-table-wrap">\n                                    ').concat(t?'\n                                        <a href="#">\n                                            <svg class="a" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="#2563eb">\n                                                <path d="m5.433 13.917 1.262-3.155A4 4 0 0 1 7.58 9.42l6.92-6.918a2.121 2.121 0 0 1 3 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 0 1-.65-.65Z"></path>\n                                                <path d="M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0 0 10 3H4.75A2.75 2.75 0 0 0 2 5.75v9.5A2.75 2.75 0 0 0 4.75 18h9.5A2.75 2.75 0 0 0 17 15.25V10a.75.75 0 0 0-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5Z"></path>\n                                            </svg>\n                                        </a>\n                                    ':"","\n                                    \n                                    ").concat(n?'\n                                        <a href="#">\n                                            <svg class="b" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="#dc2626">\n                                                <path fill-rule="evenodd" d="M8.75 1A2.75 2.75 0 0 0 6 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 1 0 .23 1.482l.149-.022.841 10.518A2.75 2.75 0 0 0 7.596 19h4.807a2.75 2.75 0 0 0 2.742-2.53l.841-10.52.149.023a.75.75 0 0 0 .23-1.482A41.03 41.03 0 0 0 14 4.193V3.75A2.75 2.75 0 0 0 11.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 0 0-1.5.06l.3 7.5a.75.75 0 1 0 1.5-.06l-.3-7.5Zm4.34.06a.75.75 0 1 0-1.5-.06l-.3 7.5a.75.75 0 1 0 1.5.06l.3-7.5Z" clip-rule="evenodd"></path>\n                                            </svg>\n                                        </a>\n                                    ':"","\n                                </div>\n                            </td>\n                        </tr>\n                    ")}).join(""),"\n                </tbody>\n            </table>\n        ")}function handleFilterClick(e){var t=document.querySelector(".orders_content-nav button.active"),t=(t&&t.classList.remove("active"),event.target);t.classList.add("active"),loadOrders(t.getAttribute("data-url"))}window.clearPhone=function(e){return parseInt(e.replace(/\D/g,""))},window.debounce=function(n,r){var o;return function(){var e=this,t=arguments;clearTimeout(o),o=setTimeout(function(){n.apply(e,t)},r)}},window.downloadFile=function(e){var r,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"bin";null!=e&&""!==e&&(window.spinner&&"function"==typeof window.spinner.show&&window.spinner.show(),(r=new XMLHttpRequest).open("GET",e,!0),r.responseType="blob",r.onload=function(){var e,t,n;200===r.status&&(e=a,(t=r.getResponseHeader("Content-Disposition"))&&(t=t.match(/filename="?((.*)\.(.*))"?/))&&t[1]&&(o=o||t[2],e=t[3]),t=URL.createObjectURL(r.response),(n=document.createElement("a")).href=t,n.download="".concat(o,".").concat(e),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)),window.spinner&&"function"==typeof window.spinner.hide&&window.spinner.hide()},r.onerror=function(){console.error("Ошибка при загрузке файла"),window.spinner&&"function"==typeof window.spinner.hide&&window.spinner.hide()},r.send())},window.customEvent={on:function(e,t){window.document.addEventListener(e,t)},off:function(e,t){window.document.removeEventListener(e,t)},once:function(n,r){_this.on(n,function e(t){r(t),_this.off(n,e)})},emit:function(e,t){e=new CustomEvent(e,{detail:t,bubbles:!1,cancelable:!1});return window.document.dispatchEvent(e),e}},window.formatNumber=function(e){return parseInt(e.toString().replace(/\s/g,"")).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},window.getUrlParameterByName=function(e,t){if(e)return t=t||window.location.href,e=e.replace(/[\[\]]/g,"\\$&"),(e=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t))?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null},window.safeCall=function(t){try{for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.call.apply(t,[this||window].concat(n))}catch(e){console.warn("[Safe Call]: ",t,e)}},window.throttle=function(e,t){var n,r,o=!1;function a(){o?(n=arguments,r=this):(e.apply(this,arguments),o=!0,setTimeout(function(){o=!1,n&&(a.apply(r,n),n=r=null)},t))}return a},window.validateEmail=function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},window.validatePhone=function(e){return/^7\d{10}$/.test(e)},window.addEventListener("load",function(){asideToggle()}),window.addEventListener("load",function(){document.querySelectorAll(".orders_content-nav button").forEach(function(e){e.addEventListener("click",handleFilterClick)})}),window.addEventListener("load",function(){var t,n,e=Array.from(document.querySelectorAll(".header__nav-close")),r=document.querySelector(".footer__nav-link_menu"),o=document.querySelector(".header__nav"),a=document.querySelector(".header__modal-back"),i=document.querySelector(".header__nav-link_product"),c=Array.from(document.querySelectorAll(".header__nav-item_with-inner")),s=Array.from(document.querySelectorAll(".header__nav-link")),l=Array.from(document.querySelectorAll(".header__nav-collapse"));r&&(t=function(e){e?(document.body.classList.add("modal-open"),r.classList.add("active"),o.classList.add("open"),setTimeout(function(){i.click()},100)):(document.body.classList.remove("modal-open"),r.classList.remove("active"),o.classList.remove("open"),a.classList.remove("show"),n())},r.addEventListener("click",function(){this.classList.contains("active")?t(!1):t(!0)}),e.forEach(function(e){e.addEventListener("click",function(){return t(!1)})}),a.addEventListener("click",function(){t(!1)}),n=function(){c.forEach(function(e){return e.classList.remove("dropped")}),s.forEach(function(e){return e.classList.remove("active")}),l.forEach(function(e){return e.classList.remove("open")})},s.forEach(function(e){e.addEventListener("click",function(){var e,t;t=(e=this).classList.contains("active"),n(),!t&&(e.classList.add("active"),t=e.closest(".header__nav-item_with-inner"))&&(e=t.querySelector(".header__nav-collapse"),t.classList.add("dropped"),e.classList.add("open"),a.classList.add("show"))})}))}),window.addEventListener("load",function(){var a,t,v,n,r,o,i,c=document.querySelector(".header"),s=document.querySelector(".header__buttons-link_search"),e=document.querySelector(".header__search-close"),l=document.querySelector(".header__search"),d=document.querySelector(".header__search-input"),u=document.querySelector(".header__search-reset"),m=document.querySelector(".header__search-hints");function h(){var e=this;""===this.value?(u.classList.remove("visible"),m.classList.remove("visible"),clearTimeout(t)):(u.classList.add("visible"),clearTimeout(t),t=setTimeout(function(){return n(e.value)},300))}s&&(a=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];l.classList.contains("visible")||e?(s.classList.remove("active"),l.classList.remove("visible"),window.innerWidth<992&&(m.classList.remove("visible"),u.click(),o()),setTimeout(function(){l.classList.add("disable"),c.classList.remove("header_with-search-panel")},200)):(l.classList.remove("disable"),c.classList.add("header_with-search-panel"),s.classList.add("active"),setTimeout(function(){l.classList.add("visible")},100))},s.addEventListener("click",function(e){e.stopPropagation(),a(),d.focus()}),e.addEventListener("click",function(e){e.stopPropagation(),a()}),v=function(e,t){t=new RegExp(t,"gi");return e.replace(t,"<strong>$&</strong>")},n=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function e(h){var f,p;return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/product/search"+"?query=".concat(h));case 3:if((f=e.sent).ok){e.next=6;break}throw new Error("Ошибка запроса поиска");case 6:return e.next=8,f.json();case 8:p=e.sent,u=d=l=s=i=c=a=o=r=void 0;var t=p,n=h;for(console.log("Получили поисковую выдачу",t);m.firstChild;)m.removeChild(m.firstChild);var r=document.createElement("div"),o=(r.classList.add("header__search-links"),document.createElement("div"));if(o.classList.add("header__search-similar"),0===t.length){var a=document.createElement("span");a.classList.add("no-results"),a.innerText="По Вашему запросу ничего не найдено",r.appendChild(a)}else{var i,a=t[0],c=document.createElement("a");for(i in c.href=a.url,c.innerHTML=v(a.title,n),r.appendChild(c),o.innerHTML="<h5>смотрите похожие</h5>",t)if(!(i<1)){var s=t[i],l=document.createElement("a"),d=(l.href=s.url,document.createElement("span")),u=(d.classList.add("pic"),document.createElement("img")),u=(u.src=s.image,u.alt=s.title,d.appendChild(u),document.createElement("span"));if(u.classList.add("text"),u.innerHTML=v(s.title,n),l.appendChild(d),l.appendChild(u),o.appendChild(l),6<i)break}}m.appendChild(r),m.classList.add("visible"),1<t.length&&m.appendChild(o),window.innerWidth<992&&document.body.classList.add("modal-open"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(e){return t.apply(this,arguments)}}(),d.addEventListener("input",h),d.addEventListener("focus",h),u.addEventListener("click",function(e){e.stopPropagation(),u.classList.remove("visible"),m.classList.remove("visible"),o(),document.body.classList.remove("modal-open")}),document.querySelector(".header__search-form").addEventListener("submit",function(e){e.preventDefault();try{var t,n,r=null==(t=document.querySelector(".header__search-links a"))?void 0:t.getAttribute("href");r&&"#"!==r&&(r.startsWith("http")||(r=window.location.origin+"".concat(r)),(n=new URL(r)).searchParams.set("search",d.value),console.log(n.href),setTimeout(function(){window.location.href=n.href},500))}catch(e){console.warn(e)}}),document.addEventListener("click",function(e){var t=e.target.closest(".header__buttons-link_search"),e=e.target.closest(".header__search");window.innerWidth<992||e||t||a(!0)}),r=function(e){e=e.target.innerText;d.value="".concat(d.value," ").concat(e)},o=function(){Array.from(document.querySelectorAll(".header__search-helps span")).forEach(function(e){e.removeEventListener("click",r)})},i=0,window.addEventListener("scroll",function(){var e,t=window.innerHeight,n=document.getElementById("header"),r=n.clientHeight,o=window.scrollY;991<window.innerWidth?t<o?n.classList.add("compressed"):n.classList.remove("compressed"):(100<o&&i<o?(l.classList.contains("visible")&&(n.style.transitionDelay=".7s",a(!0),e=setInterval(function(){n.style.transitionDelay="0s",clearInterval(e)},1e3)),n.style.top="-".concat(r,"px")):n.style.top=0,i=window.pageYOffset)}),(e=new URL(window.location.href)).searchParams.has("search"))&&(d.value=e.searchParams.get("search"),a())});var blockAnimationTimer,_step2,setCartUpdateListener=function(){var o=document.querySelector("#cartProductCount");o&&o.addEventListener("cartUpdateEvent",function(e){var t,n=0,r=_createForOfIteratorHelper(window.CART.products);try{for(r.s();!(t=r.n()).done;)n+=t.value.count}catch(e){r.e(e)}finally{r.f()}o.innerText=n,o.dataset.count=n.toString(),o.classList.add("selected"),setTimeout(function(){return o.classList.remove("selected")},1e3),console.log(e.detail.message)})},toggleSubNavLists=(window.addEventListener("load",setCartUpdateListener),function(){var t=Array.from(document.querySelectorAll(".header__nav-inner-toggle"));t.forEach(function(n){return n.addEventListener("click",function(){var e=n.closest(".header__nav-inner-caption"),t=e.querySelector(".header__nav-sublist-collapse");e.classList.contains("dropped")?(e.classList.remove("dropped"),n.classList.remove("active"),t.classList.remove("open")):(e.classList.add("dropped"),n.classList.add("active"),t.classList.add("open"))})}),document.addEventListener("click",function(e){e.target.classList.contains("header__nav-inner-toggle")||t.forEach(function(e){var t=e.closest(".header__nav-inner-caption");t.classList.remove("dropped"),t.querySelector(".header__nav-sublist-collapse").classList.remove("open"),e.classList.remove("active")})})}),removeAnimationBlocker=(window.addEventListener("load",toggleSubNavLists),function(){Array.from(document.querySelectorAll(".transition-blocker")).forEach(function(e){return e.classList.remove("transition-blocker")})}),addAnimationBlocker=(window.addEventListener("load",removeAnimationBlocker),function(){document.body.classList.add("transition-blocker")}),smoothLinks=(window.addEventListener("resize",function(){clearTimeout(blockAnimationTimer),window.safeCall(addAnimationBlocker),blockAnimationTimer=setTimeout(function(){window.safeCall(removeAnimationBlocker)},300)}),document.querySelectorAll('a[href^="#"]')),_iterator2=_createForOfIteratorHelper(smoothLinks);try{var _loop=function(){var t=_step2.value;t.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();e=t.getAttribute("href");try{smoothScrollTo(document.querySelector("".concat(e)).offsetTop+(768<window.outerWidth?-100:-20),700)}catch(e){console.error("There's no target node for scrolling to place. The selector isn't correct!"),console.error(e)}})};for(_iterator2.s();!(_step2=_iterator2.n()).done;)_loop()}catch(e){_iterator2.e(e)}finally{_iterator2.f()}var checkAnimationElms=function(){return 0<Array.from(document.querySelectorAll(".animation-element")).length},showAnimElements=function e(){var t=Array.from(document.querySelectorAll(".animation-element")),n=window.pageYOffset,r=window.innerHeight;t.forEach(function(e){e.getBoundingClientRect().top+window.pageYOffset-r<n&&e.classList.remove("animation-element")}),checkAnimationElms()||window.removeEventListener("scroll",e)},setAnimationElms=function(){checkAnimationElms()&&window.addEventListener("scroll",showAnimElements)},initPhonesMask=(window.addEventListener("DOMContentLoaded",function(){window.safeCall(showAnimElements),window.safeCall(setAnimationElms)}),function(){Array.from(document.querySelectorAll('[type="tel"]:not(.cart__calc [type="tel"])')).forEach(function(e){var t=IMask(e,{mask:"+{7} (000) 000-00-00",lazy:!0,placeholderChar:"#"});e.addEventListener("focus",function(){return t.updateOptions({lazy:!1})}),e.addEventListener("blur",function(){return t.updateOptions({lazy:!0})})})}),chat24IntervalId=(window.addEventListener("load",function(){window.safeCall(initPhonesMask)}),null),chat24TimeoutId=null,chart24StyleNode=null,chart24Node=null,fixChat24WidgetPosition=function(){(chart24Node=document.querySelector("chat-24"))&&(window.innerWidth<1024&&!chart24StyleNode&&((chart24StyleNode=document.createElement("style")).innerHTML="\n            .startBtn.startBtn--outside.startBtn--bottom {\n                bottom: 67px;\n            }\n            .startBtn.startBtn--open {\n                transform: translateY(50%) scale(0.6) !important;\n            }\n        ",chart24Node.shadowRoot.prepend(chart24StyleNode)),1024<=window.innerWidth&&null!==chart24StyleNode&&(console.log("chart24StyleNode",chart24StyleNode),chart24StyleNode.remove(),chart24StyleNode=null),clearInterval(chat24IntervalId),chat24IntervalId=null,clearTimeout(chat24TimeoutId),chat24TimeoutId=null)},chat24RenderListener=function(){chat24IntervalId=setInterval(fixChat24WidgetPosition,100)},hardRemoveChat24RenderListener=function(){chat24TimeoutId=setTimeout(function(){chat24IntervalId&&clearInterval(chat24IntervalId)},1e4)};window.addEventListener("load",function(){window.safeCall(chat24RenderListener),window.safeCall(hardRemoveChat24RenderListener)}),window.addEventListener("resize",function(){window.innerWidth<1024?window.safeCall(chat24RenderListener):chart24StyleNode&&chart24StyleNode.remove()});