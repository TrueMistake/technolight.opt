"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var _this=void 0;function _regeneratorRuntime(){_regeneratorRuntime=function(){return i};var l,i={},t=Object.prototype,s=t.hasOwnProperty,u=Object.defineProperty||function(t,e,n){t[e]=n.value},e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(l){a=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o,a,i,c,e=e&&e.prototype instanceof w?e:w,e=Object.create(e.prototype),r=new k(r||[]);return u(e,"_invoke",{value:(o=t,a=n,i=r,c=f,function(t,e){if(c===p)throw new Error("Generator is already running");if(c===v){if("throw"===t)throw e;return{value:l,done:!0}}for(i.method=t,i.arg=e;;){var n=i.delegate;if(n){n=function t(e,n){var r=n.method,o=e.iterator[r];if(o===l)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=l,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;r=d(o,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,m;o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=l),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}(n,i);if(n){if(n===m)continue;return n}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(c===f)throw c=v,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);c=p;n=d(o,a,i);if("normal"===n.type){if(c=i.done?v:h,n.arg===m)continue;return{value:n.arg,done:i.done}}"throw"===n.type&&(c=v,i.method="throw",i.arg=n.arg)}})}),e}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}i.wrap=c;var f="suspendedStart",h="suspendedYield",p="executing",v="completed",m={};function w(){}function y(){}function g(){}var e={},b=(a(e,r,function(){return this}),Object.getPrototypeOf),b=b&&b(b(T([]))),L=(b&&b!==t&&s.call(b,r)&&(e=b),g.prototype=w.prototype=Object.create(e));function _(t){["next","throw","return"].forEach(function(e){a(t,e,function(t){return this._invoke(e,t)})})}function E(i,c){var e;u(this,"_invoke",{value:function(n,r){function t(){return new c(function(t,e){!function e(t,n,r,o){var a,t=d(i[t],i,n);if("throw"!==t.type)return(n=(a=t.arg).value)&&"object"==_typeof(n)&&s.call(n,"__await")?c.resolve(n.__await).then(function(t){e("next",t,r,o)},function(t){e("throw",t,r,o)}):c.resolve(n).then(function(t){a.value=t,r(a)},function(t){return e("throw",t,r,o)});o(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}})}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function T(e){if(e||""===e){var n,t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(s.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=l,t.done=!0,t}).next=t}throw new TypeError(_typeof(e)+" is not iterable")}return u(L,"constructor",{value:y.prototype=g,configurable:!0}),u(g,"constructor",{value:y,configurable:!0}),y.displayName=a(g,o,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,a(t,o,"GeneratorFunction")),t.prototype=Object.create(L),t},i.awrap=function(t){return{__await:t}},_(E.prototype),a(E.prototype,n,function(){return this}),i.AsyncIterator=E,i.async=function(t,e,n,r,o){void 0===o&&(o=Promise);var a=new E(c(t,e,n,r),o);return i.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},_(L),a(L,o,"Generator"),a(L,r,function(){return this}),a(L,"toString",function(){return"[object Generator]"}),i.keys=function(t){var e,n=Object(t),r=[];for(e in n)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},i.values=T,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&s.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=l)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return a.type="throw",a.arg=n,r.next=t,e&&(r.method="next",r.arg=l),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],a=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var i=s.call(o,"catchLoc"),c=s.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,o=this.tryEntries[e];if(o.tryLoc===t)return"throw"===(n=o.completion).type&&(r=n.arg,S(o)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=l),m}},i}function _createForOfIteratorHelper(t,e){var n,r,o,a,i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return r=!(n=!0),{s:function(){i=i.call(t)},n:function(){var t=i.next();return n=t.done,t},e:function(t){r=!0,o=t},f:function(){try{n||null==i.return||i.return()}finally{if(r)throw o}}};if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length)return i&&(t=i),a=0,{s:e=function(){},n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){var n;if(t)return"string"==typeof t?_arrayLikeToArray(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function asyncGeneratorStep(t,e,n,r,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}function _asyncToGenerator(c){return function(){var t=this,i=arguments;return new Promise(function(e,n){var r=c.apply(t,i);function o(t){asyncGeneratorStep(r,e,n,o,a,"next",t)}function a(t){asyncGeneratorStep(r,e,n,o,a,"throw",t)}o(void 0)})}}function smoothScrollTo(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:500,o=window.pageYOffset,a=t-o,i=null;window.requestAnimationFrame(function t(e){var e=e-(i=i||e),n=(n=e,n/=r,a*(--n*n*n+1)+o);window.scrollTo(0,n),e<r&&window.requestAnimationFrame(t)})}function asideToggle(){var t=document.querySelector("button._js-aside-toggle"),e=document.querySelectorAll(".nav a span"),n=document.querySelector(".aside"),r=document.querySelector(".aside-top-home");t.addEventListener("click",function(){e.forEach(function(t){t.classList.toggle("hidden")}),n.classList.toggle("small"),r.classList.toggle("hidden")})}function loadOrders(t){return _loadOrders.apply(this,arguments)}function _loadOrders(){return(_loadOrders=_asyncToGenerator(_regeneratorRuntime().mark(function t(e){var n;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:if((n=t.sent).ok){t.next=6;break}throw new Error("Ошибка загрузки данных");case 6:return t.next=8,n.json();case 8:renderOrdersTable(t.sent),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error("Ошибка:",t.t0);case 15:case"end":return t.stop()}},t,null,[[0,12]])}))).apply(this,arguments)}function renderOrdersTable(t){var e=t.isEdit,n=t.isDeleted,t=t.orders,r=document.querySelector("._js-orders-content");0===t.length?r.innerHTML="<p>Не найдено заказов</p>":r.innerHTML='\n            <table class="orders_content-table">\n                <thead>\n                    <tr>\n                        <th><span><span>Номер заказа</span></span></th>\n                        <th><span><span>Дата создания</span></span></th>\n                        <th><span><span>Контрагент</span></span></th>\n                        <th><span><span>Всего товаров</span></span></th>\n                        <th><span><span>В резерве</span></span></th>\n                        <th><span><span>Номер ТТН</span></span></th>\n                        <th></th>\n                    </tr>\n                </thead>\n                <tbody>\n                    '.concat(t.map(function(t){return'\n                        <tr>\n                            <td>\n                                <div class="orders_content-table-wrap">\n                                    <a href="#">\n                                        <div class="orders orders_content-table-item">\n                                            '.concat(t.article,'\n                                        </div>\n                                    </a>\n                                </div>\n                            </td>\n                            <td>\n                                <div class="orders_content-table-wrap">\n                                    <a href="#">\n                                        <div class="orders orders_content-table-item">\n                                            ').concat(t.date,'\n                                        </div>\n                                    </a>\n                                </div>\n                            </td>\n                            <td>\n                                <div class="orders_content-table-wrap">\n                                    <a href="#">\n                                        <div class="orders orders_content-table-item">\n                                            ').concat(t.counterparty,'\n                                        </div>\n                                    </a>\n                                </div>\n                            </td>\n                            <td>\n                                <div class="orders_content-table-wrap">\n                                    <a href="#">\n                                        <div class="orders orders_content-table-item">\n                                            ').concat(t.total,'\n                                        </div>\n                                    </a>\n                                </div>\n                            </td>\n                            <td>\n                                <div class="orders_content-table-wrap">\n                                    <a href="#">\n                                        <div class="orders orders_content-table-item">\n                                            ').concat(t.reserve,'\n                                        </div>\n                                    </a>\n                                </div>\n                            </td>\n                            <td>\n                                <div class="orders_content-table-wrap">\n                                    <a href="#">\n                                        <div class="orders orders_content-table-item">\n                                            ').concat(t.ttx,'\n                                        </div>\n                                    </a>\n                                </div>\n                            </td>\n                            <td>\n                                <div class="orders_content-table-wrap">\n                                    ').concat(e?'\n                                        <a href="#">\n                                            <svg class="a" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="#2563eb">\n                                                <path d="m5.433 13.917 1.262-3.155A4 4 0 0 1 7.58 9.42l6.92-6.918a2.121 2.121 0 0 1 3 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 0 1-.65-.65Z"></path>\n                                                <path d="M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0 0 10 3H4.75A2.75 2.75 0 0 0 2 5.75v9.5A2.75 2.75 0 0 0 4.75 18h9.5A2.75 2.75 0 0 0 17 15.25V10a.75.75 0 0 0-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5Z"></path>\n                                            </svg>\n                                        </a>\n                                    ':"","\n                                    \n                                    ").concat(n?'\n                                        <a href="#">\n                                            <svg class="b" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="#dc2626">\n                                                <path fill-rule="evenodd" d="M8.75 1A2.75 2.75 0 0 0 6 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 1 0 .23 1.482l.149-.022.841 10.518A2.75 2.75 0 0 0 7.596 19h4.807a2.75 2.75 0 0 0 2.742-2.53l.841-10.52.149.023a.75.75 0 0 0 .23-1.482A41.03 41.03 0 0 0 14 4.193V3.75A2.75 2.75 0 0 0 11.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 0 0-1.5.06l.3 7.5a.75.75 0 1 0 1.5-.06l-.3-7.5Zm4.34.06a.75.75 0 1 0-1.5-.06l-.3 7.5a.75.75 0 1 0 1.5.06l.3-7.5Z" clip-rule="evenodd"></path>\n                                            </svg>\n                                        </a>\n                                    ':"","\n                                </div>\n                            </td>\n                        </tr>\n                    ")}).join(""),"\n                </tbody>\n            </table>\n        ")}function handleFilterClick(t){var e=document.querySelector(".orders_content-nav button.active"),e=(e&&e.classList.remove("active"),event.target);e.classList.add("active"),loadOrders(e.getAttribute("data-url"))}function toggleMobileMenu(){var t=document.querySelector("._js-mobile-burger"),e=document.querySelector("._js-aside");t.addEventListener("click",function(){e.classList.toggle("_active")})}function handleClickOutside(t){var e=document.querySelector("._js-aside"),n=document.querySelector(".aside-container"),r=document.querySelector("._js-mobile-burger");window.innerWidth<=1024&&(n.contains(t.target)||r.contains(t.target)||!e.classList.contains("_active")||e.classList.remove("_active"))}window.clearPhone=function(t){return parseInt(t.replace(/\D/g,""))},window.debounce=function(n,r){var o;return function(){var t=this,e=arguments;clearTimeout(o),o=setTimeout(function(){n.apply(t,e)},r)}},window.downloadFile=function(t){var r,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"bin";null!=t&&""!==t&&(window.spinner&&"function"==typeof window.spinner.show&&window.spinner.show(),(r=new XMLHttpRequest).open("GET",t,!0),r.responseType="blob",r.onload=function(){var t,e,n;200===r.status&&(t=a,(e=r.getResponseHeader("Content-Disposition"))&&(e=e.match(/filename="?((.*)\.(.*))"?/))&&e[1]&&(o=o||e[2],t=e[3]),e=URL.createObjectURL(r.response),(n=document.createElement("a")).href=e,n.download="".concat(o,".").concat(t),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(e)),window.spinner&&"function"==typeof window.spinner.hide&&window.spinner.hide()},r.onerror=function(){console.error("Ошибка при загрузке файла"),window.spinner&&"function"==typeof window.spinner.hide&&window.spinner.hide()},r.send())},window.customEvent={on:function(t,e){window.document.addEventListener(t,e)},off:function(t,e){window.document.removeEventListener(t,e)},once:function(n,r){_this.on(n,function t(e){r(e),_this.off(n,t)})},emit:function(t,e){t=new CustomEvent(t,{detail:e,bubbles:!1,cancelable:!1});return window.document.dispatchEvent(t),t}},window.formatNumber=function(t){return parseInt(t.toString().replace(/\s/g,"")).toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},window.getUrlParameterByName=function(t,e){if(t)return e=e||window.location.href,t=t.replace(/[\[\]]/g,"\\$&"),(t=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e))?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null},window.safeCall=function(e){try{for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.call.apply(e,[this||window].concat(n))}catch(t){console.warn("[Safe Call]: ",e,t)}},window.throttle=function(t,e){var n,r,o=!1;function a(){o?(n=arguments,r=this):(t.apply(this,arguments),o=!0,setTimeout(function(){o=!1,n&&(a.apply(r,n),n=r=null)},e))}return a},window.validateEmail=function(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)},window.validatePhone=function(t){return/^7\d{10}$/.test(t)},window.addEventListener("load",function(){asideToggle()}),window.addEventListener("load",function(){document.querySelectorAll(".orders_content-nav button").forEach(function(t){t.addEventListener("click",handleFilterClick)})}),window.addEventListener("load",function(){toggleMobileMenu(),document.addEventListener("click",handleClickOutside)});var blockAnimationTimer,_step,removeAnimationBlocker=function(){Array.from(document.querySelectorAll(".transition-blocker")).forEach(function(t){return t.classList.remove("transition-blocker")})},addAnimationBlocker=(window.addEventListener("load",removeAnimationBlocker),function(){document.body.classList.add("transition-blocker")}),smoothLinks=(window.addEventListener("resize",function(){clearTimeout(blockAnimationTimer),window.safeCall(addAnimationBlocker),blockAnimationTimer=setTimeout(function(){window.safeCall(removeAnimationBlocker)},300)}),document.querySelectorAll('a[href^="#"]')),_iterator=_createForOfIteratorHelper(smoothLinks);try{var _loop=function(){var e=_step.value;e.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();t=e.getAttribute("href");try{smoothScrollTo(document.querySelector("".concat(t)).offsetTop+(768<window.outerWidth?-100:-20),700)}catch(t){console.error("There's no target node for scrolling to place. The selector isn't correct!"),console.error(t)}})};for(_iterator.s();!(_step=_iterator.n()).done;)_loop()}catch(t){_iterator.e(t)}finally{_iterator.f()}var checkAnimationElms=function(){return 0<Array.from(document.querySelectorAll(".animation-element")).length},showAnimElements=function t(){var e=Array.from(document.querySelectorAll(".animation-element")),n=window.pageYOffset,r=window.innerHeight;e.forEach(function(t){t.getBoundingClientRect().top+window.pageYOffset-r<n&&t.classList.remove("animation-element")}),checkAnimationElms()||window.removeEventListener("scroll",t)},setAnimationElms=function(){checkAnimationElms()&&window.addEventListener("scroll",showAnimElements)},initPhonesMask=(window.addEventListener("DOMContentLoaded",function(){window.safeCall(showAnimElements),window.safeCall(setAnimationElms)}),function(){Array.from(document.querySelectorAll('[type="tel"]:not(.cart__calc [type="tel"])')).forEach(function(t){var e=IMask(t,{mask:"+{7} (000) 000-00-00",lazy:!0,placeholderChar:"#"});t.addEventListener("focus",function(){return e.updateOptions({lazy:!1})}),t.addEventListener("blur",function(){return e.updateOptions({lazy:!0})})})}),chat24IntervalId=(window.addEventListener("load",function(){window.safeCall(initPhonesMask)}),null),chat24TimeoutId=null,chart24StyleNode=null,chart24Node=null,fixChat24WidgetPosition=function(){(chart24Node=document.querySelector("chat-24"))&&(window.innerWidth<1024&&!chart24StyleNode&&((chart24StyleNode=document.createElement("style")).innerHTML="\n            .startBtn.startBtn--outside.startBtn--bottom {\n                bottom: 67px;\n            }\n            .startBtn.startBtn--open {\n                transform: translateY(50%) scale(0.6) !important;\n            }\n        ",chart24Node.shadowRoot.prepend(chart24StyleNode)),1024<=window.innerWidth&&null!==chart24StyleNode&&(console.log("chart24StyleNode",chart24StyleNode),chart24StyleNode.remove(),chart24StyleNode=null),clearInterval(chat24IntervalId),chat24IntervalId=null,clearTimeout(chat24TimeoutId),chat24TimeoutId=null)},chat24RenderListener=function(){chat24IntervalId=setInterval(fixChat24WidgetPosition,100)},hardRemoveChat24RenderListener=function(){chat24TimeoutId=setTimeout(function(){chat24IntervalId&&clearInterval(chat24IntervalId)},1e4)};window.addEventListener("load",function(){window.safeCall(chat24RenderListener),window.safeCall(hardRemoveChat24RenderListener)}),window.addEventListener("resize",function(){window.innerWidth<1024?window.safeCall(chat24RenderListener):chart24StyleNode&&chart24StyleNode.remove()});